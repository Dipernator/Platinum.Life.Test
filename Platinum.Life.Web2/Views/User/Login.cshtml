@using Platinum.Life.Web2.Models
@model LoginUserModel

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutDefault.cshtml";
}

<h2>Login</h2>

<form id="frm-login" method="post">
    @Html.AntiForgeryToken()
    <label for="Email">Email</label><br />
    <input name="Email" type="email" /><br />

    <label for="Password">Password</label><br />
    <input name="Password" type="password" /><br />

    <button type="submit" value="Submit">Login</button>
</form>


<script>
    $("#frm-login").submit(function (e) {
        SubmitLoginForm();
        e.preventDefault();
    });

    function SubmitLoginForm() {
        try {
            $.ajax({
                type: "POST",
                cache: false,
                url: window.location.protocol + '//' + window.location.host + '/User/Login',
                data: $("#frm-login").serialize(),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.success) {
                        try {

                        } catch (err) {
                            alert(err)
                        }
                    } else {
                        alert("")
                    }
                }
            });
        } catch (err) {
            alert(err)
        }    
    }
</script>